# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1
# Defines secrets that are available as environment variables to the application.
# These secrets are stored in Google Cloud Secret Manager. The 'secret' field
# must match the name of the secret you create in Secret Manager.
# This has been updated to use a single, unified JSON secret to reduce setup errors.
# Learn more at https://firebase.google.com/docs/app-hosting/configure#secrets
secretEnvironmentVariables:
  # Server-side Firebase Admin SDK config
  - secret: FIREBASE_SERVICE_ACCOUNT_JSON
    keyName: FIREBASE_SERVICE_ACCOUNT_JSON
  - secret: FIREBASE_STORAGE_BUCKET
    keyName: FIREBASE_STORAGE_BUCKET
  
  # Client-side Firebase SDK config
  - secret: NEXT_PUBLIC_FIREBASE_API_KEY
    keyName: NEXT_PUBLIC_FIREBASE_API_KEY
  - secret: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    keyName: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
  - secret: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    keyName: NEXT_PUBLIC_FIREBASE_PROJECT_ID
  - secret: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    keyName: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
  - secret: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    keyName: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
  - secret: NEXT_PUBLIC_FIREBASE_APP_ID
    keyName: NEXT_PUBLIC_FIREBASE_APP_ID

  # Application and Payment Gateway config
  - secret: NEXT_PUBLIC_BASE_URL
    keyName: NEXT_PUBLIC_BASE_URL
  - secret: PAYSTACK_SECRET_KEY
    keyName: PAYSTACK_SECRET_KEY
  - secret: NEXT_PUBLIC_PAYPAL_CLIENT_ID
    keyName: NEXT_PUBLIC_PAYPAL_CLIENT_ID
  - secret: PAYPAL_CLIENT_SECRET
    keyName: PAYPAL_CLIENT_SECRET
    
  # Email sending config
  - secret: EMAIL_HOST
    keyName: EMAIL_HOST
  - secret: EMAIL_PORT
    keyName: EMAIL_PORT
  - secret: EMAIL_USER
    keyName: EMAIL_USER
  - secret: EMAIL_PASS
    keyName: EMAIL_PASS
  - secret: EMAIL_SENDER
    keyName: EMAIL_SENDER
